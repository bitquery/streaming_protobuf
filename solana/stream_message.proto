syntax = "proto3";
package solana_messages;
option go_package = "streaming_processor_solana/solana_messages";

import "solana/token_block_message.proto";
import "solana/block_message.proto";
import "solana/dex_block_message.proto";
import "solana/parsed_idl_block_message.proto";


message TransactionAttributes {
  uint32 Index = 1;
  bytes Signature = 2;

  TransactionStatus Status = 3;
  TransactionHeader Header = 4;
}

message BlockAttributes {
  uint64 Slot = 1;
}

message DexTradeStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  DexTradeEvent Trade = 3;
}

message DexOrderStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  DexOrderEvent Order = 3;
}

message PoolLiquidityChangeStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  PoolLiquidityChangeEvent PoolEvent = 3;
}
//

message BalanceUpdateStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  BalanceUpdate BalanceUpdate = 3;
}

message TokenBalanceUpdateStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  CurrencyBalanceUpdate BalanceUpdate = 3;
}

message TransferStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  Transfer Transfer = 3;
}