syntax = "proto3";
package solana_messages;
option go_package = "streaming_processor_solana/solana_messages";

import "solana/block_message.proto";
import "solana/dex_block_message.proto";
import "solana/parsed_idl_block_message.proto";


message TransactionAttributes {
  bytes Signature = 1;
  uint32 Index = 2;

  TransactionStatus Status = 3;
  TransactionHeader Header = 4;
}

message BlockAttributes {
  uint64 Slot = 1;
}

message DexTradeStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  DexTradeEvent Trade = 3;
}

message DexOrderStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  DexOrderEvent Order = 3;
}

message PoolLiquidityChangeStreamMessage {
  BlockAttributes Block = 1;
  TransactionAttributes Transaction = 2;

  PoolLiquidityChangeEvent PoolEvent = 3;
}